# 中国电子学会履职系统

## 1. 项目概述

### 1.1 项目背景
中国电子学会每年举办一次理事级年度工作会及数次小型会议。年度工作会可参加角色包括：理事、常务理事、监事、分支机构负责人及地方学会负责人。小型会议仅限180位理事参加。为提高理事会议出席率，降低报名门槛，开发本履职系统。

### 1.2 系统架构
- 管理端（Web）：admin.snaptoidphoto.online
- 移动端（WAP）：wap.snaptoidphoto.online
- 数据库：Supabase
- 部署平台：Vercel

### 1.3 技术栈
#### 管理端（lvyue-admin）
- 框架：React 18
- UI组件：自定义组件
- 状态管理：React Hooks
- 路由：React Router v6
- 二维码生成：qrcode.react
- 样式：CSS Modules

#### 移动端（lvyue-wap）
- 框架：React 18
- UI组件：自定义移动端组件
- 状态管理：React Hooks
- 路由：React Router v6
- 样式：CSS Modules

#### 后端服务
- 数据库：Supabase（PostgreSQL）
- API：Supabase REST API
- 文件存储：Supabase Storage
- 认证：Supabase Auth

### 1.4 项目结构
#### 管理端（lvyue-admin）
```
src/
├── assets/         # 静态资源
├── components/     # 公共组件
│   ├── MeetingModal/    # 会议创建/编辑弹窗
│   └── QRCodeModal/     # 二维码展示弹窗
├── layouts/        # 布局组件
├── pages/         # 页面组件
│   ├── AccountManagement/   # 账号管理
│   ├── MeetingManagement/   # 会议管理
│   ├── AcademicMeeting/     # 学术会议管理
│   ├── RegistrationManagement/  # 报名管理
│   └── Statistics/          # 履职统计
├── services/      # API 服务
└── utils/         # 工具函数
```

#### 移动端（lvyue-wap）
```
src/
├── assets/         # 静态资源
├── components/     # 公共组件
│   ├── login-form/      # 登录表单
│   ├── ErrorBoundary/   # 错误边界组件
│   └── form/           # 报名通用表单组件
├── pages/         # 页面组件
│   ├── Login/           # 登录页
│   ├── Home/            # 首页
│   ├── Profile/         # 个人中心
│   ├── Academic/        # 学术会议
│   │   └── declare/     # 会议申报
│   ├── Report/          # 履职报告
│   ├── registration/    # 报名页
│   ├── Statistics/      # 履职统计
│   ├── Preview/         # 预览页面
│   └── success/         # 报名成功页
├── router/        # 路由配置
├── services/      # API 服务
└── utils/         # 工具函数
```

## 2. 用户角色

### 2.1 移动端用户
- 理事
- 常务理事
- 监事
- 分支机构负责人
- 地方学会负责人

### 2.2 管理端用户
- 学会管理员

## 3. 功能模块

### 3.1 管理端功能

#### 3.1.1 账号管理
- 账号列表展示
  - 支持分页
  - 支持手机号和姓名搜索
  - 字段：姓名、手机号码、学会职务、工作单位、工作职务、最后登录时间、操作
- 账号创建
  - 字段：姓名、手机号码、密码、确认密码、学会职务、工作单位、工作职务
- 账号导入/导出
- 账号编辑
- 账号删除（软删除）
- 密码修改

#### 3.1.2 会议管理
- 会议列表
  - 支持分页
  - 支持会议名称搜索
  - 支持会议时间筛选
  - 字段：会议类型、会议形式、会议名称、会议时间、会议地点、更新时间、操作
- 会议创建
  - 字段：会议类型、会议形式、会议名称、会议时间、会议地点
- 会议导入
- 会议编辑
- 会议删除
- 会议报名开关控制

#### 3.1.3 学术会议管理
- 学术会议列表
  - 支持分页
  - 支持会议名称搜索
  - 字段：会议名称、开始时间、结束时间、会议地点、更新时间、操作
- 会议创建
  - 字段：会议名称、开始时间、结束时间、会议地点
- 会议导入/导出
- 会议编辑
- 会议删除

#### 3.1.4 报名信息管理
- 报名列表
  - 支持分页
  - 支持会议切换
  - 支持手机号和姓名搜索
  - 字段：姓名、手机号码、出席类型、学会职务、工作单位、工作职务、被委托人信息、审核状态、备注、操作
- 报名信息导出
- 报名信息审核

#### 3.1.5 履职统计
- 个人履职统计
  - 支持分页
  - 支持时间筛选
  - 支持姓名和手机号搜索
  - 支持会议类型排序
  - 字段：姓名、手机号码、学会职务、工作单位、工作职务、各类会议次数、操作
  - 数据导出
  - 详情查看
    - 个人基本信息
    - 会议参与记录列表
    - 会议出席方式（本人/委托）

- 会议履职统计
  - 支持分页
  - 支持时间筛选
  - 支持会议类型筛选
  - 支持会议名称搜索
  - 字段：会议名称、会议类型、会议时间、会议地点、报名人数、本人出席人数、委托出席人数、出席率、操作
  - 数据导出
  - 会议详情查看
    - 会议基本信息
    - 出席率和人数统计
    - 参会人员列表
    - 参会人员导出

### 3.2 移动端功能

#### 3.2.1 首页
- 欢迎页面展示
- 功能入口导航
  - 履职统计入口
    - 图标展示
    - 功能简介
    - 点击跳转至履职统计页面
  - 学术会议入口
    - 图标展示
    - 功能简介
    - 点击跳转至学术会议页面

#### 3.2.2 会议报名
- 扫码进入报名页面
- 会议信息展示
  - 会议名称
  - 会议时间
  - 会议地点
- 身份选择（下拉菜单）
  - 理事
  - 常务理事
  - 监事
  - 分支机构负责人
  - 地方学会负责人
- 报名信息填写
  - 基础信息
    - 姓名（必填）
    - 手机号码（必填，11位手机号验证）
    - 单位名称（必填）
    - 单位职务（必填）
    - 学会职务（必填，新增字段）
  - 出席方式选择
    - 本人出席
    - 委托代表出席（仅理事、常务理事、监事可选）
  - 委托信息（选择委托代表出席时显示）
    - 被委托人姓名（必填）
    - 被委托人手机号码（必填，11位手机号验证）
    - 被委托人单位名称（必填）
    - 被委托人单位职务（必填）
- 表单校验逻辑
  - 字段实时校验
    - 姓名/被委托人姓名：至少2个字符
    - 手机号/被委托人手机号：必须符合11位中国手机号格式（正则：^1[3-9]\d{9}$）
    - 单位名称/被委托人单位名称：至少2个字符
    - 单位职务/被委托人单位职务：至少2个字符
    - 学会职务：至少2个字符
  - 提交校验
    - 所有必填字段不能为空
    - 委托代表出席时，被委托人所有信息均为必填项
  - 错误提示
    - 输入框下方显示错误提示信息
    - 输入框边框变红显示错误状态
    - 提交时对所有字段进行统一校验
    - 焦点自动定位到第一个错误字段
- 信息提交
  - 提交按钮状态管理
    - 默认状态：蓝色背景
    - 点击状态：轻微缩放，深蓝色背景
    - 加载状态：显示加载动画，禁用点击
  - 校验通过后发送数据到API
  - 数据提交成功跳转到成功页面
- 报名成功页面
  - 成功提示
    - 成功图标：绿色对勾
    - 成功标题：报名成功
    - 成功描述：您的会议报名信息已提交成功！
  - 会议信息展示
    - 会议名称
    - 会议时间
    - 会议地点
  - 报名信息展示
    - 姓名
    - 手机号码
    - 单位名称
    - 单位职务
    - 出席方式
  - 委托信息展示（如有）
    - 被委托人姓名
    - 被委托人手机号码
    - 被委托人单位名称
    - 被委托人单位职务
  - 重新报名按钮
    - 点击返回报名页面

#### 3.2.3 履职统计
- 登录功能
  - 手机验证码登录
  - 账号密码登录
- 履职统计展示
  - 时间筛选（默认2024年5月-至今）
  - 身份相关会议统计
    - 理事：理事会议次数、学术会议次数
    - 常务理事：常务理事会议次数、理事会议次数、学术会议次数
- 出席会议详情列表

## 4. 数据库设计

### 4.1 用户表（users）
```sql
- id: uuid
- name: string
- phone: string
- password: string
- role: enum('理事','常务理事','监事','分支机构负责人','地方学会负责人')
- work_unit: string
- work_position: string
- created_at: timestamp
- updated_at: timestamp
- is_deleted: boolean
```

### 4.2 会议表（meetings）
```sql
- id: uuid
- type: enum('理事会议','常务理事会议','学术会议')
- form: enum('线下会议','线上会议')
- name: string
- start_time: timestamp
- end_time: timestamp
- location: string
- qr_code: string
- is_registration_open: boolean
- created_at: timestamp
- updated_at: timestamp
```

### 4.3 报名表（registrations）
```sql
- id: uuid
- meeting_id: uuid
- user_id: uuid
- attend_type: enum('本人出席','委托代表出席')
- delegate_name: string
- delegate_phone: string
- delegate_unit: string
- delegate_position: string
- status: enum('待审核','已通过','已拒绝')
- created_at: timestamp
- updated_at: timestamp
```

### 4.4 操作日志表（operation_logs）
```sql
- id: uuid
- user_id: uuid
- action: string
- target: string
- created_at: timestamp
```

## 5. 页面设计规范

### 5.1 设计风格
- 采用苹果设计风格
- 主色调：白色背景 (#ffffff)
- 强调色：苹果蓝 (#0071e3)
- 文字颜色：深灰 (#1d1d1f)
- 次要文字：中灰 (#86868b)
- 卡片圆角：12px-14px
- 输入框圆角：10px
- 轻微阴影效果：0 1px 3px rgba(0, 0, 0, 0.1)
- 平滑过渡动画
- 表单控件高度增加至46px-48px，提升可操作性

### 5.2 布局结构
- 移动端：
  - 单列布局，内容充满屏幕宽度
  - 页面内边距：20px
  - 卡片布局：
    - 会议信息卡片
      - 内边距：28px
      - 圆角：14px
      - 阴影：轻微阴影效果
      - 标题居中，字号22px，正文左对齐
    - 表单卡片
      - 内边距：28px
      - 圆角：14px
      - 阴影：轻微阴影效果
      - 表单项上下间距：24px
    - 委托人信息区域
      - 内边距：28px
      - 圆角：14px
      - 浅灰色背景：#f7f8fa
      - 边框：1px solid #e5e5ea
      - 标题居中，底部有分隔线
      - 委托人表单独立容器，视觉上与主表单分离
      - 委托人表单项标签简化，移除"被委托人"前缀
      - 展开/收起动画过渡效果
    - 成功页面卡片
      - 内边距：32px 28px
      - 圆角：14px
      - 阴影：轻微阴影效果
      - 成功图标居中显示
  - 表单元素：
    - 输入框
      - 高度：46px(普通输入框), 48px(委托人区域输入框)
      - 内边距：0 16px
      - 边框：1px solid #d2d2d7
      - 圆角：10px
      - 聚焦效果：蓝色边框(#0071e3)+浅蓝色阴影
      - 错误状态：红色边框(#ff4d4f)
      - 错误提示：文字小号(12px)，红色(#ff4d4f)，位于输入框下方
    - 下拉选择框
      - 样式同输入框
      - 右侧添加下拉箭头图标
      - 下拉菜单样式保持圆角一致性
    - 委托信息区域
      - 标题字号：18px
      - 字段标签简化，移除"被委托人"前缀
      - 表单项间距增加到24px
      - 展开/收起动画：使用CSS transition，持续时间0.3s
    - 提交按钮
      - 高度：48px
      - 苹果蓝背景：#0071e3
      - 圆角：10px
      - 字号：17px
      - 点击效果：轻微缩放(0.98)
      - 加载状态：显示加载动画，按钮文字更改为"提交中..."

- 管理端：左侧菜单，顶部导航
  - 左侧菜单：
    - 宽度：240px
    - 背景色：深色主题（#001529）
    - 固定定位，高度100vh
    - 菜单项悬停效果：背景色变为蓝色（#1890ff）
  - 顶部导航：
    - 高度：64px
    - 背景色：白色
    - 固定定位，宽度自适应
  - 内容区域：
    - 左侧边距：240px（与菜单宽度相同）
    - 背景色：浅灰（#F5F7FA）
    - 内边距：顶部88px（导航栏高度+间距），左右24px
    - 最小高度：100vh

### 5.3 响应式设计
- 移动端断点：768px
- 移动端适配：
  - 左侧菜单默认隐藏，可通过按钮显示
  - 内容区域占满全屏
  - 顶部导航栏宽度自适应
  - 表格区域可横向滚动
  - 操作按钮自适应排列

### 5.4 浏览器兼容性
- 移动端：
  - 微信内置浏览器
  - Safari
  - QQ浏览器
  - Chrome移动版
- 管理端：
  - Chrome
  - Firefox

### 5.5 性能优化
- 使用 CSS Modules 避免样式冲突
- 组件状态本地化，避免不必要的重渲染
- 采用条件渲染，仅在需要时加载委托人表单
- 使用 CSS transform 实现动画效果
- 合理使用 z-index 层级管理
- 避免不必要的重排重绘
- 优化表单控件尺寸，提高移动端可点击性
- 合理使用表单校验逻辑，提供实时反馈
- 加载状态管理，防止重复提交

### 5.6 UI设计参考资源
- 苹果人机界面指南：https://developer.apple.com/design/human-interface-guidelines/
- 苹果设计资源：https://developer.apple.com/design/resources/
- 色彩系统参考：
  - 主色：#0071e3（苹果蓝）
  - 文本颜色：#1d1d1f（主要文本）, #86868b（次要文本）
  - 背景色：#f5f7fa（页面背景）, #f7f8fa（区块背景）
  - 边框色：#d2d2d7（输入框）, #e5e5ea（分割线）
- 字体系统：
  - 苹果系统字体：-apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text'
  - 标题字重：600（semi-bold）
  - 正文字重：400（regular）
  - 标签字重：500（medium）

### 5.7 组件设计原则
- 组件封装粒度：
  - 页面级组件：整体页面布局和逻辑
  - 业务组件：特定业务逻辑的UI组合
  - 基础组件：可复用的UI元素
- 组件状态管理：
  - 使用React Hooks管理组件内部状态
  - 组件间数据传递使用Props和Context
  - 表单状态集中处理，减少重复代码
- 组件复用策略：
  - 基础UI组件最大化复用
  - 业务组件根据业务场景封装
  - 样式使用CSS Modules隔离，避免样式冲突
- 组件性能优化：
  - 避免不必要的重渲染
  - 使用React.memo和useCallback优化渲染性能
  - 合理拆分大型组件，避免整体重渲染

## 6. 部署配置

### 6.1 域名配置（Spaceship）
1. 主域名：snaptoidphoto.online
2. 子域名配置：
   - admin.snaptoidphoto.online（管理端）
   - wap.snaptoidphoto.online（移动端）
3. DNS 记录配置：
   - 类型：CNAME
   - 值：cname.vercel-dns.com
   - TTL：30分钟

### 6.2 项目部署（Vercel）
1. 管理端项目（lvyue-admin）：
   - 框架：Vite + React
   - 部署域名：admin.snaptoidphoto.online
   - 部署分支：main
   - 自动部署：已启用

2. 移动端项目（lvyue-wap）：
   - 框架：Vite + React
   - 部署域名：wap.snaptoidphoto.online
   - 部署分支：main
   - 自动部署：已启用

### 6.3 开发环境
1. 本地开发：
   - Node.js
   - npm/yarn
   - Git

2. 代码管理：
   - 版本控制：Git
   - 代码托管：GitHub
   - 自动部署：Vercel（关联 GitHub）

3. 项目结构：
   ```
   /lvyue-admin          # 管理端项目
   ├── src/              # 源代码
   │   ├── assets/       # 静态资源
   │   ├── components/   # 组件
   │   ├── pages/        # 页面
   │   └── styles/       # 样式文件
   └── package.json      # 项目配置

   /lvyue-wap           # 移动端项目
   ├── src/             # 源代码
   │   ├── assets/      # 静态资源
   │   ├── components/  # 组件
   │   ├── pages/       # 页面
   │   └── styles/      # 样式文件
   └── package.json     # 项目配置
   ```

## 7. 开发计划

### 第一阶段：基础架构搭建
1. 配置域名和部署环境
2. 创建数据库表结构
3. 搭建基础页面框架

### 第二阶段：管理端开发
1. 登录系统
2. 账号管理模块
3. 会议管理模块
4. 报名信息管理模块
5. 履职统计模块

### 第三阶段：移动端开发
1. 会议报名模块
2. 履职统计模块
3. 登录系统

### 第四阶段：测试和优化
1. 功能测试
2. 兼容性测试
3. 性能优化 

## 8. 开发进度

### 8.1 已完成功能
1. 项目基础架构搭建
   - 创建项目基础结构
   - 配置开发环境
   - 设置路由系统
   - 实现主布局组件

2. 管理端功能开发
   - 实现主布局（MainLayout）
     - 左侧菜单栏
     - 顶部导航栏
     - 响应式设计
   - 会议管理页面
     - 基础UI结构
     - API服务封装
     - 会议列表展示
     - 会议创建/编辑表单
     - 会议删除确认
     - 报名状态控制
     - 会议二维码生成与管理
   - 报名信息页面框架
   - 履职统计页面框架
   - 退出登录功能

3. 移动端功能开发
   - 会议报名模块
     - 会议信息展示
     - 身份选择功能
     - 报名表单开发
     - 委托代表功能
     - 表单验证
     - 报名成功页面
     - 移动端适配优化
     - UI/UX优化

### 8.2 开发中功能
1. 报名信息管理
   - 报名列表展示
   - 报名信息审核
   - 导出功能

2. 账号管理模块
   - 账号列表展示
   - 账号创建/编辑表单
   - 账号删除功能

3. 移动端功能
   - 履职统计模块
   - 登录功能

### 8.3 待开发功能
1. 数据导入/导出
2. 系统测试和优化

### 8.4 最近更新 (2024-04-30)
1. 完成移动端履职统计页面
   - 实现会议统计数据展示
   - 根据用户角色显示不同类型的会议统计
   - 支持参会记录卡片式布局
   - 会议类型标签化显示
   - 优化移动端适配体验
2. 添加个人中心页面
   - 用户个人信息展示（姓名、手机号、工作单位、单位职务、学会职务）
   - 支持退出登录功能
   - 与履职统计页面联动
3. 优化整体UI/UX体验
   - 统一页面样式和交互模式
   - 内容区域充满屏幕宽度
   - 优化卡片和列表布局
   - 添加动态效果和过渡
4. 版本控制
   - 代码优化和重构
   - 发布V1.0.3版本

### 8.5 最新优化 (2024-05-01)
1. 全面升级移动端UI设计
   - 采用苹果设计风格，提升整体质感
   - 重新设计表单控件，增加尺寸和可点击区域
   - 优化色彩方案，使用苹果标准色值
   - 增加过渡动效和反馈效果
2. 改进报名表单用户体验
   - 重构委托人信息区域，增加视觉层次感
   - 简化标签文字，提高信息密度
   - 扩大元素间距，改善布局紧凑问题
   - 增强表单验证反馈
3. 响应式布局优化
   - 确保页面在各种移动设备上充分利用屏幕宽度
   - 调整输入控件大小，适应手指触控
   - 优化表单在不同屏幕尺寸下的显示效果
4. 版本升级
   - 代码质量优化
   - 发布V1.0.4版本

### 8.6 最新进展 (2024-05-06)
1. 完善报名成功页面
   - 优化成功页面布局和信息展示
   - 完善重新报名功能，保留会议ID参数
   - 委托人信息条件性展示
   - 增强视觉层次感和用户体验
2. 优化表单验证逻辑
   - 实时验证与提交验证结合
   - 优化错误提示样式和显示逻辑
   - 增加表单焦点管理
3. 移动端适配增强
   - 调整不同移动设备的布局和尺寸
   - 优化输入控件交互体验
   - 增强表单在各种屏幕尺寸的显示效果
4. 版本升级
   - 代码重构与优化
   - 发布V1.0.5版本

### 8.7 最新功能 (2024-05-07)
1. 履职统计功能优化
   - 新增会议履职统计页面
   - 按会议维度统计出席情况
   - 实现会议出席率计算与展示
   - 支持会议类型和名称筛选
   - 优化统计数据展示形式
2. 布局结构调整
   - 履职统计增加二级菜单导航
   - 区分个人履职统计和会议履职统计
   - 统一页面样式和交互模式
3. 导出功能增强
   - 支持会议参会人员名单导出
   - 支持会议履职统计数据导出
4. UI/UX优化
   - 统一样式和交互体验
   - 数据可视化展示
   - 表格性能优化
   - 响应式布局适配
5. 版本升级
   - 代码重构与优化
   - 发布V1.0.6版本

## 9. 数据流转与接口规范

### 9.1 数据交互流程
1. 客户端-服务器交互模式：
   - 移动端/管理端通过API与Supabase服务交互
   - 使用RESTful API风格设计接口
   - 数据格式统一使用JSON

2. 报名流程数据流转：
   - 用户扫描会议二维码 → 打开报名页面
   - 页面加载 → 根据URL参数获取会议ID
   - 表单提交 → 数据验证 → 发送API请求
   - 服务器处理 → 返回成功/失败响应
   - 成功响应 → 跳转成功页面 → 展示报名信息

### 9.2 API接口规范
1. 接口命名规范：
   - 使用RESTful风格
   - 接口路径使用复数名词
   - 使用HTTP动词表示操作类型

2. 主要接口定义：
   ```
   # 会议接口
   GET /meetings/:id - 获取会议详情
   POST /meetings - 创建会议
   PUT /meetings/:id - 更新会议
   DELETE /meetings/:id - 删除会议
   
   # 报名接口
   GET /registrations - 获取报名列表
   GET /registrations/:id - 获取报名详情
   POST /registrations - 创建报名
   PUT /registrations/:id - 更新报名状态
   DELETE /registrations/:id - 删除报名
   
   # 用户接口
   GET /users - 获取用户列表
   GET /users/:id - 获取用户详情
   POST /users - 创建用户
   PUT /users/:id - 更新用户信息
   DELETE /users/:id - 删除用户
   
   # 履职统计接口
   ## 个人履职统计
   GET /statistics/personal - 获取个人履职统计列表
   GET /statistics/personal/:userId - 获取指定用户的履职统计
   GET /statistics/personal/:userId/meetings - 获取指定用户的参会记录
   
   ## 会议履职统计
   GET /statistics/meetings - 获取会议履职统计列表
   GET /statistics/meetings/:meetingId - 获取指定会议的统计数据
   GET /statistics/meetings/:meetingId/attendees - 获取指定会议的参会人员
   ```

3. 请求/响应格式：
   ```
   # 请求格式示例
   POST /registrations
   Content-Type: application/json
   
   {
     "meetingId": "123",
     "name": "张三",
     "phone": "13800138000",
     "workUnit": "北京公司",
     "workPosition": "技术总监",
     "societyPosition": "理事",
     "attendanceType": "self"
   }
   
   # 响应格式示例
   {
     "code": 200,
     "message": "success",
     "data": {
       "id": "456",
       "meetingId": "123",
       "name": "张三",
       "phone": "13800138000",
       "workUnit": "北京公司",
       "workPosition": "技术总监",
       "societyPosition": "理事",
       "attendanceType": "self",
       "createdAt": "2024-05-06T10:00:00Z"
     }
   }
   ```

4. 错误处理：
   ```
   # 错误响应格式
   {
     "code": 400,
     "message": "Bad Request",
     "errors": [
       {
         "field": "phone",
         "message": "手机号码格式不正确"
       }
     ]
   }
   ```

## 10. 测试指南与问题解决

### 10.1 功能测试流程
1. 报名功能测试：
   - 测试前提条件：
     - 已创建测试会议
     - 已生成会议二维码
   - 测试步骤：
     - 扫描二维码进入报名页面
     - 选择不同身份角色
     - 填写各字段测试表单验证
     - 测试本人出席和委托代表出席两种模式
     - 提交表单验证成功页面展示
   - 测试重点：
     - 表单验证正确性
     - 委托代表区域显示/隐藏逻辑
     - 错误提示显示位置和内容
     - 成功页面信息完整性

2. 履职统计测试：
   - 测试前提条件：
     - 已有用户报名记录
     - 用户已登录系统
   - 测试步骤：
     - 进入履职统计页面
     - 验证会议统计数据正确性
     - 测试时间区间筛选
     - 查看参会记录详情
   - 测试重点：
     - 统计数据计算准确性
     - 列表展示完整性
     - 筛选功能有效性

### 10.2 常见问题及解决方案
1. 表单提交失败问题：
   - 症状：点击提交按钮后无响应或报错
   - 可能原因：
     - 网络连接问题
     - API接口异常
     - 表单数据格式错误
   - 解决方案：
     - 检查网络连接状态
     - 查看控制台错误日志
     - 验证表单数据格式
     - 确认API接口正常工作

2. 委托代表区域不显示问题：
   - 症状：选择理事/常务理事/监事身份，但委托区域未出现
   - 可能原因：
     - 角色判断逻辑错误
     - CSS显示问题
   - 解决方案：
     - 检查角色权限配置
     - 验证条件渲染逻辑
     - 检查CSS样式是否正确应用

3. 移动端适配问题：
   - 症状：在某些设备上布局错乱或显示异常
   - 可能原因：
     - 媒体查询范围不当
     - 固定像素值导致的不适应
   - 解决方案：
     - 使用相对单位(rem/%)替代固定像素
     - 添加针对性的媒体查询
     - 测试主流设备尺寸

4. 数据丢失问题：
   - 症状：页面刷新后数据丢失
   - 可能原因：
     - 未使用状态持久化
     - 路由参数未正确传递
   - 解决方案：
     - 使用localStorage存储临时数据
     - 确保路由参数正确传递
     - 实现表单状态持久化

## 11. 代码规范与最佳实践

### 11.1 编码规范
1. 命名规范：
   - 组件名：使用PascalCase（如RegistrationForm）
   - 变量/函数：使用camelCase（如handleSubmit）
   - 常量：使用大写下划线（如MAX_LENGTH）
   - CSS类名：使用小写中划线（如form-container）或camelCase（CSS Modules）

2. 文件组织：
   - 每个组件一个文件夹
   - 包含组件JSX文件和样式文件
   - 导出统一使用index.js

3. 注释规范：
   - 组件顶部添加组件说明
   - 复杂逻辑添加中文注释说明
   - 函数前添加功能说明
   - API调用添加接口说明

### 11.2 最佳实践
1. React组件最佳实践：
   - 使用函数组件和Hooks
   - 合理拆分组件，保持单一职责
   - 避免过深的组件嵌套
   - 使用memo优化渲染性能

2. 样式管理最佳实践：
   - 使用CSS Modules隔离样式
   - 遵循移动优先原则设计样式
   - 复用样式变量，保持一致性
   - 避免内联样式，除非动态计算

3. 表单处理最佳实践：
   - 集中管理表单状态
   - 实现统一的表单验证逻辑
   - 分离UI展示和数据处理逻辑
   - 优化表单提交体验

4. 路由管理最佳实践：
   - 集中配置路由规则
   - 使用懒加载优化性能
   - 实现路由守卫控制访问权限
   - 合理设计路由参数传递方式

### 11.3 开发流程规范
1. 代码审查规范：
   - 提交前自测功能
   - 遵循统一的代码风格
   - 代码审查关注点：功能、性能、安全
   - 解决所有代码审查意见

2. 版本管理规范：
   - 提交信息格式：`类型: 简短描述`
   - 类型包括：feat、fix、docs、style、refactor等
   - 定期创建版本标签
   - 维护更新日志

## 开发服务器启动说明

### 管理端（lvyue-admin）
1. 切换到管理端目录：
```bash
cd lvyue-admin
```

2. 启动开发服务器：
```bash
npm run dev
```

3. 访问地址：http://localhost:3000

### 移动端（lvyue-wap）
1. 切换到移动端目录：
```bash
cd lvyue-wap
```

2. 启动开发服务器：
```bash
npm run dev
```

3. 访问地址：http://localhost:3001

注意：
- 管理端和移动端需要分别启动
- 建议使用两个命令行窗口分别运行
- 管理端默认运行在 3000 端口
- 移动端默认运行在 3001 端口 